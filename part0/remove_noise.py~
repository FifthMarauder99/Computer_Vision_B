from PIL import Image
from PIL import ImageFilter
import sys


if __name__ == '__main__':

    if(len(sys.argv) < 2):
        raise Exception("error: please give an input image name as a parameter, like this: \n"
                        "python3 remove_noise.py noisy_pichu.png")
    
    # Load an image
    noisy_pichu = Image.open(sys.argv[1])
    min_pichu = noisy_pichu.filter(ImageFilter.MinFilter(size=3))
    median_pichu = min_pichu.filter(ImageFilter.MedianFilter(size=5))
    smooth_pichu = median_pichu.filter(ImageFilter.SMOOTH)
    denoise_pichu = smooth_pichu.filter(ImageFilter.SMOOTH_MORE)

    
    denoise_pichu.save("clean_pichu.png")
   
   
